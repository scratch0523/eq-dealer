<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="Ekka - Admin Dashboard HTML Template.">

	<title>Equipride</title>

	<!-- GOOGLE FONTS -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700;800;900&family=Roboto:wght@400;500;700;900&display=swap"
		rel="stylesheet">

	<link href="https://cdn.materialdesignicons.com/4.4.95/css/materialdesignicons.min.css" rel="stylesheet" />

	<!-- PLUGINS CSS STYLE -->
	<link href="assets/plugins/simplebar/simplebar.css" rel="stylesheet" />

	<!-- ekka CSS -->
	<link id="ekka-css" rel="stylesheet" href="assets/css/ekka.css" />

	<!-- FAVICON -->
	<link href="../assets/images/favicon/favicon.png" rel="shortcut icon" />

</head>
<style>
	.table-input {
		border: none;
		width: 100%;
		height: 100%;
	}
</style>

<body class="ec-header-fixed ec-sidebar-fixed ec-sidebar-dark ec-header-light" id="body">

	<!-- WRAPPER -->
	<div class="wrapper">

		<!-- LEFT MAIN SIDEBAR -->
		<div class="ec-left-sidebar ec-bg-sidebar">
			<div id="sidebar" class="sidebar ec-sidebar-footer">

				<div class="ec-brand">
					<a href="index.html" title="Equipride">
						<img class="ec-brand-icon" src="assets/img/logo/Logo editted.png" alt="Logo" />
						<!-- <span class="ec-brand-name text-truncate">Equipride</span> -->
					</a>
				</div>

				<!-- begin sidebar scrollbar -->
				<div class="ec-navigation" data-simplebar>
					<!-- sidebar menu -->
					<ul class="nav sidebar-inner" id="sidebar-menu">
						<!-- Dashboard -->
						<li class="active">
							<a class="sidenav-item-link" href="index.html">
								<i class="mdi mdi-view-dashboard-outline"></i>
								<span class="nav-text">Dashboard</span>
							</a>
							<hr>
						</li>

						<!-- Vendors -->
						<!-- <li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-account-group-outline"></i>
								<span class="nav-text">Vendors</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="vendors" data-parent="#sidebar-menu">
									<li class="">
										<a class="sidenav-item-link" href="vendor-card.html">
											<span class="nav-text">Vendor Grid</span>
										</a>
									</li>

									<li class="">
										<a class="sidenav-item-link" href="vendor-list.html">
											<span class="nav-text">Vendor List</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="vendor-profile.html">
											<span class="nav-text">Vendors Profile</span>
										</a>
									</li>
								</ul>
							</div>
						</li> -->

						<!-- Users -->
						<li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-account-group"></i>
								<span class="nav-text">Users</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="users" data-parent="#sidebar-menu">
									<li>
										<a class="sidenav-item-link" href="user-request.html">
											<span class="nav-text">User Request</span>
										</a>
									</li>

									<li class="">
										<a class="sidenav-item-link" href="user-list.html">
											<span class="nav-text">User List</span>
										</a>
									</li>
								</ul>
							</div>
							<hr>
						</li>

						<!-- Category -->
						<li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-dns-outline"></i>
								<span class="nav-text">Categories</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="categorys" data-parent="#sidebar-menu">
									<li class="">
										<a class="sidenav-item-link" href="main-category.html">
											<span class="nav-text">Main Category</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="sub-category.html">
											<span class="nav-text">Sub Category</span>
										</a>
									</li>
								</ul>
							</div>
						</li>

						<!-- Products -->
						<li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-palette-advanced"></i>
								<span class="nav-text">Products</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="products" data-parent="#sidebar-menu">
									<li class="">
										<a class="sidenav-item-link" href="product-add.html">
											<span class="nav-text">Add Product</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="product-color.html">
											<span class="nav-text">Product Colour</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="product-list.html">
											<span class="nav-text">List Product</span>
										</a>
									</li>
								</ul>
							</div>
						</li>

						<!-- Orders -->
						<li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-cart"></i>
								<span class="nav-text">Order History</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="orders" data-parent="#sidebar-menu">

									<li class="">
										<a class="sidenav-item-link" href="order-history.html">
											<span class="nav-text">Order History</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="quick-order-history.html">
											<span class="nav-text">Quick Order</span>
										</a>
									</li>
								</ul>
							</div>
						</li>

						<!-- Reviews -->
						<li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-account-group-outline"></i>
								<span class="nav-text">Stock Update</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="orders" data-parent="#sidebar-menu">

									<li class="">
										<a class="sidenav-item-link" href="stock-update.html">
											<span class="nav-text">Stock Update</span>
										</a>
									</li>
								</ul>
							</div>
						</li>

						<!-- Brands -->
						<!-- <li>
							<a class="sidenav-item-link" href="brand-list.html">
								<i class="mdi mdi-tag-faces"></i>
								<span class="nav-text">Brands</span>
							</a>
							<hr>
						</li> -->

						<!-- Authentication -->
						<!-- <li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-login"></i>
								<span class="nav-text">Authentication</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="authentication" data-parent="#sidebar-menu">
									<li class="">
										<a href="sign-in.html">
											<span class="nav-text">Sign In</span>
										</a>
									</li>
									<li class="">
										<a href="sign-up.html">
											<span class="nav-text">Sign Up</span>
										</a>
									</li>
								</ul>
							</div>
						</li> -->

						<!-- Icons -->
						<!-- <li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-diamond-stone"></i>
								<span class="nav-text">Icons</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="icons" data-parent="#sidebar-menu">
									<li class="">
										<a class="sidenav-item-link" href="material-icon.html">
											<span class="nav-text">Material Icon</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="font-awsome-icons.html">
											<span class="nav-text">Font Awsome Icon</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="flag-icon.html">
											<span class="nav-text">Flag Icon</span>
										</a>
									</li>
								</ul>
							</div>
						</li> -->

						<!-- Other Pages -->
						<!-- <li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-image-filter-none"></i>
								<span class="nav-text">Other Pages</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="otherpages" data-parent="#sidebar-menu">
									<li class="has-sub">
										<a href="404.html">404 Page</a>
									</li>
								</ul>
							</div>
						</li> -->
					</ul>
				</div>

			</div>
		</div>

		<!--  PAGE WRAPPER -->
		<div class="ec-page-wrapper">

			<!-- Header -->
			<header class="ec-main-header" id="header">
				<nav class="navbar navbar-static-top navbar-expand-lg">
					<!-- Sidebar toggle button -->
					<button id="sidebar-toggler" class="sidebar-toggle"></button>
					<!-- search form -->
					<div class="search-form d-lg-inline-block">
						<!-- <div class="input-group">
							<input type="text" name="query" id="search-input" class="form-control"
								placeholder="search.." autofocus autocomplete="off" />
							<button type="button" name="search" id="search-btn" class="btn btn-flat">
								<i class="mdi mdi-magnify"></i>
							</button>
						</div>
						<div id="search-results-container">
							<ul id="search-results"></ul>
						</div> -->
					</div>

					<!-- navbar right -->
					<div class="navbar-right">
						<ul class="nav navbar-nav">
							<!-- User Account -->
							<li class="dropdown user-menu">
								<button class="dropdown-toggle nav-link ec-drop" data-bs-toggle="dropdown"
									aria-expanded="false">
									<img src="assets/img/user/user.png" class="user-image" alt="User Image" />
								</button>
								<ul class="dropdown-menu dropdown-menu-right ec-dropdown-menu">
									<!-- User image -->
									<li class="dropdown-header">
										<img src="assets/img/user/user.png" class="img-circle" alt="User Image" />
										<div class="d-inline-block">
											John Deo <small class="pt-1">john.example@gmail.com</small>
										</div>
									</li>
									<li>
										<a href="user-profile.html">
											<i class="mdi mdi-account"></i> My Profile
										</a>
									</li>
									<li>
										<a href="#">
											<i class="mdi mdi-email"></i> Message
										</a>
									</li>
									<li>
										<a href="#"> <i class="mdi mdi-diamond-stone"></i> Projects </a>
									</li>
									<li class="right-sidebar-in">
										<a href="javascript:0"> <i class="mdi mdi-settings-outline"></i> Setting </a>
									</li>
									<li class="dropdown-footer">
										<a type="button" onclick="logout()"> <i class="mdi mdi-logout"></i> Log Out </a>
									</li>
								</ul>
							</li>
							<li class="dropdown notifications-menu custom-dropdown">
								<button class="dropdown-toggle notify-toggler custom-dropdown-toggler">
									<i class="mdi mdi-bell-outline"></i>
								</button>

								<div class="card card-default dropdown-notify dropdown-menu-right mb-0">
									<div class="card-header card-header-border-bottom px-3">
										<h2>Notifications</h2>
									</div>

									<div class="card-body px-0 py-0">
										<ul class="nav nav-tabs nav-style-border p-0 justify-content-between" id="myTab"
											role="tablist">
											<li class="nav-item mx-3 my-0 py-0">
												<a href="#" class="nav-link active pb-3" id="home2-tab"
													data-bs-toggle="tab" data-bs-target="#home2" role="tab"
													aria-controls="home2" aria-selected="true">All (10)</a>
											</li>

											<li class="nav-item mx-3 my-0 py-0">
												<a href="#" class="nav-link pb-3" id="profile2-tab" data-bs-toggle="tab"
													data-bs-target="#profile2" role="tab" aria-controls="profile2"
													aria-selected="false">Msgs (5)</a>
											</li>

											<li class="nav-item mx-3 my-0 py-0">
												<a href="#" class="nav-link pb-3" id="contact2-tab" data-bs-toggle="tab"
													data-bs-target="#contact2" role="tab" aria-controls="contact2"
													aria-selected="false">Others (5)</a>
											</li>
										</ul>
				</nav>
			</header>

			<!-- CONTENT WRAPPER -->
			<div class="ec-content-wrapper">
				<div class="content">
					<div class="breadcrumb-wrapper d-flex align-items-center justify-content-between">
						<div>
							<h1>Add Product</h1>
							<p class="breadcrumbs"><span><a href="index.html">Home</a></span>
								<span><i class="mdi mdi-chevron-right"></i></span>Product
							</p>
						</div>
						<div>
							<a href="product-list.html" class="btn btn-primary"> View All
							</a>
						</div>
					</div>
					<div class="row">
						<div class="col-12">
							<div class="card card-default">
								<div class="card-header card-header-border-bottom">
									<h2>Add Product</h2>
								</div>
								<form class="form-horizontal m-t-30" enctype="multipart/form-data" method="POST"
									id="produdtForm">

									<div class="card-body">
										<div class="row ec-vendor-uploads">
											<div class="col-lg-4">
												<div class="ec-vendor-img-upload">
													<div class="ec-vendor-main-img">

														<!-- <input type="hidden" class="form-control" name="product_id"
															readonly value="" id="jbc_id"> -->

														<div class="avatar-upload">
															<div class="avatar-edit">
																<input type='file' id="product_image"
																	class="ec-image-upload" name='product_image[]'
																	required accept=".png, .jpg, .jpeg" />
																<label for="imageUpload"><img
																		src="assets/img/icons/edit.svg"
																		class="svg_img header_svg" alt="edit" /></label>
															</div>
															<div class="avatar-preview ec-preview">
																<div class="imagePreview ec-div-preview">
																	<img class="ec-image-preview"
																		src="assets/img/products/vender-upload-preview.jpg"
																		alt="edit" />
																</div>
															</div>
														</div>
														<div class="table-responsive">
															<table class="table table-bordered table-hover"
																style="border-collapse: collapse; border-spacing: 0; width: 100%;"
																id="table_id">
																<thead>
																	<tr>
																		<th>S No</th>
																		<th>image</th>
																		<div class="row">
																			<hr>
																			<input type="button" id="add"
																				value="Add More" class="btn btn-info">
																		</div>
																	</tr>
																</thead>
																<tbody id="tbody">

																</tbody>
															</table>
														</div>
													</div>
												</div>
											</div>
											<div class="col-lg-8">
												<div class="ec-vendor-upload-detail">
													<!-- <div class="col-md-12">
														<label for="inputEmail4"
															class="form-label">Customer/Dealer</label>
														<select type="text" name="type_1" id="type_1"
															class="form-control" required>

														</select>
													</div> -->

													<!-- Show Error Message -->

													<div class="col-md-12">
														<center>
															<span id="error_msg"></span>
														</center>
													</div>


													<div class="col-md-12">
														<label class="form-label">Product Name</label>
														<input type="text" class="form-control slug-title"
															name="product_name" id="product_name">
													</div>
													<div class="col-md-12">
														<label for="slug" class="col-12 col-form-label">Category
															Type</label>
														<select class="form-control" name="category_type"
															id="category_type" required>
															<option value="" selected disabled>Please Select Type
															</option>
															<option value="horse">Horse</option>
															<option value="rider">Rider</option>
															<option value="dog">Dog</option>
														</select>
													</div>
													<div class="col-md-12">
														<label for="slug" class="col-12 col-form-label">Category</label>
														<select class="form-control" name="category_name"
															id="category_name" required>
														</select>
													</div>
													<div class="col-md-12">
														<label class="form-label">Sub Category</label>
														<select class="form-control" name="sub_category_name"
															id="sub_category_name">
														</select>
													</div>
													<div class="col-md-12">
														<label class="form-label">Product Colour</label>
														<select class="form-control" name="product_color"
															id="product_color" required>

														</select>
													</div>

													<div class="col-md-12" onclick="toggleProductColorImage()">
														<p id="product_color_image"
															style="cursor: pointer; color: rgb(0, 208, 255);">Or select
															product colour image</p>
													</div>

													<!-- Hidden input file division -->
													<div class="col-md-12" id="product_color_image_div"
														style="display: none;">
														<label class="form-label">Colour Name</label>
														<input type="text" class="form-control"
															name="product_color_name" id="product_color_name"
															placeholder="Colour Name" required><br>
														<label class="form-label">Product Colour Image</label>
														<input type="file" class="form-control"
															name="product_color_file" id="product_color_file" required>
													</div>

													<br>

													<div class="col-md-12">
														<table class="table table-bordered"
															style="border: 1px solid #ced4da; border-radius: 50%;"
															id="table_id">
															<thead>
																<tr>
																	<th>Size</th>
																	<th>Quantity</th>
																	<th>Price</th>
																	<th>Msrp</th>
																</tr>
															</thead>
															<tbody id="size_quantity_tbody">
																<tr>
																	<td><input type="text" class="table-input"
																			name="product_size[]" id="product_size">
																	</td>
																	<td><input type="number" class="table-input"
																			name="product_quantity[]"
																			id="product_quantity"></td>
																	<td><input type="number" class="table-input"
																			name="product_price[]" class="product_price"
																			id="product_price">
																	</td>
																	<td><input type="number" class="table-input"
																			name="msrp_price[]" class="msrp_price"
																			id="msrp_price"></td>
																</tr>
															</tbody>
														</table>
														<a id="addRow" class="btn btn-primary">Add More</a>
													</div>
													<!-- <div class="col-md-6">
														<label class="form-label">Customer Price </label>
														<input type="number" class="form-control" name="product_price"
															min="0" value="0" step="any" id="product_price">
													</div>
													<div class="col-md-6">
														<label class="form-label">Dealer Price</label>
														<input type="number" class="form-control" name="msrp_price"
															min="0" value="0" step="any" id="msrp_price">
													</div> -->
													<div class="col-md-12">
														<label class="form-label">Description</label>
														<textarea class="form-control" name="product_description"
															pattern="^[a-zA-Z0-9]+$" rows="4"
															id="product_description"></textarea>
													</div>
													<div class="col-md-12">
														<label class="form-label">Specification</label>
														<textarea class="form-control" name="product_specification"
															pattern="^[a-zA-Z0-9]+$" rows="4"
															id="product_specification"></textarea>
													</div>
													<br>
													<div class="col-md-12">
														<button class="btn btn-primary" id="submitForm">Submit</button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div> <!-- End Content -->
			</div>
			<!-- End Content Wrapper -->

			<!-- Footer -->
			<footer class="footer mt-auto">
				<div class="copyright bg-white">
					<p>
						Copyright &copy; <span id="ec-year"></span><a class="text-primary"
							href="https://themeforest.net/user/ashishmaraviya" target="_blank"> Ekka Admin
							Dashboard</a>. All Rights Reserved.
					</p>
				</div>
			</footer>

		</div> <!-- End Page Wrapper -->
	</div> <!-- End Wrapper -->

	<!-- Common Javascript -->
	<script src="assets/plugins/jquery/jquery-3.5.1.min.js"></script>
	<script src="assets/js/bootstrap.bundle.min.js"></script>
	<script src="assets/plugins/tags-input/bootstrap-tagsinput.js"></script>
	<script src="assets/plugins/simplebar/simplebar.min.js"></script>
	<script src="assets/plugins/jquery-zoom/jquery.zoom.min.js"></script>
	<script src="assets/plugins/slick/slick.min.js"></script>

	<!-- Option Switcher -->
	<script src="assets/plugins/options-sidebar/optionswitcher.js"></script>

	<!-- Ekka Custom -->
	<script src="assets/js/ekka.js"></script>

	<!-- <script>
		document.getElementById("explicit-block-txt").onkeypress = function (e) {
			var chr = String.fromCharCode(e.which);
			if ("></\"".indexOf(chr) >= 0)
				return false;
		};
	</script> -->

	<script type="text/javascript">
		$(document).ready(function () {

			// Add New table Row For Size and Quantity Start
			$("#addRow").click(function () {
				var product_price = $("#product_price").val();
				var msrp_price = $("#msrp_price").val();
				var newRow = $("<tr>");
				newRow.append(
					'<td><input type="text" class="table-input" id="product_size" name="product_size[]"></td>'
				);
				newRow.append(
					'<td><input type="number" class="table-input" id="product_quantity" name="product_quantity[]"></td>'
				);
				newRow.append(
					'<td><input type="number" class="table-input" id="product_price" name="product_price[]" value="' +
					product_price + '"></td>'
				);
				newRow.append(
					'<td><input type="number" class="table-input" id="msrp_price[]" name="msrp_price[]" value="' +
					msrp_price + '"></td>'
				);
				newRow.append(
					'<td><a type="button" class="removeRow"><i class="fa fa-times remove text-danger">&#x2716;</i></a></td>'
				);
				$("#size_quantity_tbody").append(newRow);
			});

			// Add a click event for the remove button
			$("#size_quantity_tbody").on("click", ".removeRow", function () {
				$(this).closest("tr").remove();
			});
			// Add New table Row For Size and Quantity End

			// Add new Row for Add More Images Start

			var i = 1;

			$(document).on('click', '#add', function () {
				var output = `
							<tr>
								<td>` + (i) + `</td>
								<td>
									<div class="thumb-upload-set col-md-12">
										<div class="thumb-upload">
											<div class="thumb-edit">
												<input type='file' id="product_image_${i}" name="product_image[]"
													class="ec-image-upload"
													accept=".png, .jpg, .jpeg" />
												<label for="product_image_${i}">
													<img src="assets/img/icons/edit.svg"
														class="svg_img header_svg" alt="edit" />
												</label>
											</div>
											<div class="thumb-preview ec-preview">
												<div class="image-thumb-preview">
													<img class="image-thumb-preview ec-image-preview"
														src="assets/img/products/vender-upload-thumb-preview.jpg"
														alt="edit" />
												</div>
											</div>
										</div>
									</div>
								</td>
								<td>
									<a type="button">
										<i class="fa fa-times remove text-danger">&#x2716;</i>
									</a>
								</td>
							</tr>
						`;

				i++;
				$("#tbody").append(output);
			});

			$(document).on('click', '.remove', function () {
				$($(this).closest("tr")).remove();
				i--;
			});

			// Add new Row for Add More Images End

			// Add New Product End

			fetchCategoryName();

			fetchColurs();

		});


		// Add New Product Start

		$("#submitForm").click(function (e) {
			e.preventDefault();

			// Create FormData object
			var formData = new FormData($('#produdtForm')[0]);

			// Append additional form data
			formData.append('createNewProduct_request', 'createNewProduct');
			formData.append("category_type", $("#category_type").val());
			formData.append("category_name", $("#category_name").val());
			formData.append("sub_category_name", $("#sub_category_name").val());

			// Create arrays to store values
			var productSizeArray = [];
			var productQuantityArray = [];
			var productPriceArray = [];
			var msrpPriceArray = [];

			// Iterate through each row in size_quantity_tbody
			$("#size_quantity_tbody tr").each(function (index, row) {
				// Get values from input fields in the current row
				var productSize = $(row).find('input[name="product_size[]"]').val();
				var productQuantity = $(row).find('input[name="product_quantity[]"]').val();
				var productPrice = $(row).find('input[name="product_price[]"]').val();
				var msrpPrice = $(row).find('input[name="msrp_price[]"]').val();

				// Push values to arrays
				productSizeArray.push(productSize);
				productQuantityArray.push(productQuantity);
				productPriceArray.push(productPrice);
				msrpPriceArray.push(msrpPrice);
			});

			// Log FormData for debugging
			formData.forEach(function (value, key) {
				if (value instanceof File) {
					console.log(key + ': [object File]');
				} else {
					console.log(key + ': ' + value);
				}
			});

			// Perform AJAX request
			$.ajax({
				url: 'admin_actions/admin_action.php',
				type: 'POST',
				data: formData,
				contentType: false,
				processData: false,
				success: function (response) {
					console.log(response);
					if (response == 'Please_fill_all_fields') {
						$("#error_msg").text("Please Fill All Fields").css("color", "red");
					} else if (response == 'Please_select_product_name') {
						$("#error_msg").text("Please Fill Product Name").css("color", "red");
					} else if (response == 'Please_select_category_type') {
						$("#error_msg").text("Please Select Category Type").css("color",
							"red");
					} else if (response == 'Please_select_category_name') {
						$("#error_msg").text("Please Select Category Name").css("color",
							"red");
					} else if (response == 'Please_select_sub_category_name') {
						$("#error_msg").text("Please Select Category Name").css("color",
							"red");
					} else if (response == 'Please_select_color') {
						$("#error_msg").text("Please Select Product colour").css("color",
							"red");
					} else if (response == 'Please_select_size') {
						$("#error_msg").text("Please Fill Size").css("color", "red");
					} else if (response == 'Please_enter_quantity') {
						$("#error_msg").text("Please Fill Quantity").css("color", "red");
					} else if (response == 'Please_enter_price') {
						$("#error_msg").text("Please Fill Price").css("color", "red");
					} else if (response == 'Please_enter_msrp_price') {
						$("#error_msg").text("Please Fill Msrp Price").css("color", "red");
					} else if (response == 'Please_enter_description') {
						$("#error_msg").text("Please Fill Product Description").css("color",
							"red");
					} else if (response == 'Please_enter_specification') {
						$("#error_msg").text("Please Fill Product Specification").css("color",
							"red");
					} else if (response == 'Please_select_product_image') {
						$("#error_msg").text("Please Fill Product Image").css("color", "red");
					} else if (response == 'Product_already_exists') {
						$("#error_msg").text("Product Already Exist").css("color", "red");
						fetchColurs();
					} else if (response == 'Invalid_file_format') {
						$("#error_msg").text("Invalid Image Format").css("color", "red");
					} else if (response == 'colour_name_is_empty') {
						$("#error_msg").text("Colour Name Is Empty").css("color", "red");
					} else if (response == 'Please_select_any_one_color') {
						$("#error_msg").text("Please Select One option For Colour").css(
							"color", "red");
						$("#product_color_file").val('');
						$("#product_color_name").val('');
						fetchColurs();
					} else if (response == 'Product_added_successfully') {
						$("#error_msg").text("");
						alert(response);
						$("#produdtForm")[0].reset();
						$("#size_quantity_tbody tr:gt(0)").remove();

						$(".ec-image-preview").attr("src",
							"assets/img/products/vender-upload-preview.jpg");

						$("#tbody tr").remove();

						// $("#size_quantity_tbody tr").each(function (index, row) {
						// 	$(row).find('input[name="product_size[]"]').val('');
						// 	$(row).find('input[name="product_quantity[]"]').val('');
						// 	$(row).find('input[name="product_price[]"]').val('');
						// 	$(row).find('input[name="msrp_price[]"]').val('');
						// });
					}


				},
				error: function (xhr, status, error) {

					if (xhr.status === 400) {
						$("#error_msg").text(xhr.responseText).css("color", "red");
					}
				}
			});
		});



		// Add Product Colour Image 

		function toggleProductColorImage() {
			var productColorImageDiv = document.getElementById("product_color_image_div");
			var productColorImageText = document.getElementById("product_color_image");

			if (productColorImageDiv.style.display === "none") {
				productColorImageDiv.style.display = "block";
				productColorImageText.textContent = "Hide";
			} else {
				productColorImageDiv.style.display = "none";
				productColorImageText.textContent = "Select Product Colour";
			}
		}


		// Fetch All Product Colours

		function fetchColurs() {
			$.ajax({
				url: 'admin_actions/admin_action.php',
				type: 'POST',
				data: {
					load_color_request: 'load_color'
				},
				success: function (response) {
					console.log(response);
					var colors = JSON.parse(response);

					var selectDropdown = $('#product_color');

					selectDropdown.empty();
					$("#product_color").append('<option value="" selected disabled>Select Colour</option>');
					for (var i = 0; i < colors.length; i++) {
						var color = colors[i];
						selectDropdown.append('<option value="' + color.color_name + '">' + color.color_name +
							'</option>');
					}
				}
			})
		}

		// Fetch All category Name Start

		function fetchCategoryName() {
			$("#category_type").change(function () {
				var selectedType = $(this).val();

				if (selectedType) {
					$.ajax({
						url: 'admin_actions/admin_action.php',
						type: "POST",
						data: {
							category_name_request: 'category_name_by_type',
							categoryType: selectedType
						},
						success: function (response) {
							console.log(response);
							if (response.category_name && response.category_name.length > 0) {
								$("#category_name").empty();
								$("#category_name").append(
									'<option value="" selected disabled>Select Category</option>');
								for (var i = 0; i < response.category_name.length; i++) {
									$("#category_name").append('<option value="' + response.category_name[
										i] + '">' + response.category_name[i] + '</option>');
								}
							} else {
								$("#category_name").html(
									'<option value="">No category names found</option>');
								// Empty the sub_category_name dropdown when there are no categories found
								$("#sub_category_name").empty();
								$("#sub_category_name").html(
									'<option value="">Please select a category and type first</option>'
								);
							}
						},
						error: function () {
							console.log("Error fetching category name");
						}
					});
				} else {
					$("#category_name").empty();
					$("#category_name").html('<option value="">Please select a category type first</option>');
				}
			});
		}

		// Fetch Sub Category name By Category Type And Category Name

		$("#category_name").change(function () {
			var selectedCategory = $(this).val();
			var selectedType = $("#category_type").val();

			if (selectedCategory && selectedType) {
				$.ajax({
					url: 'admin_actions/admin_action.php',
					type: "POST",
					data: {
						loadSubCategoryByCategory: 'sub_category_by_category',
						category_name: selectedCategory,
						category_type: selectedType
					},
					success: function (response) {
						console.log(response);
						if (response.status === 'success') {
							$("#sub_category_name").empty();
							$("#sub_category_name").append(
								'<option value="" selected disabled>Select Sub Category</option>');
							for (var i = 0; i < response.message.length; i++) {
								$("#sub_category_name").append('<option value="' + response.message[i]
									.sub_category_name + '">' + response.message[i]
									.sub_category_name + '</option>');
							}
						} else {
							console.log('Error:', response.message);
							$("#sub_category_name").html(
								'<option value="">Error loading sub-categories</option>');
						}
					},
					error: function (xhr, status, error) {
						console.log("Ajax Error:", status, error);
						$("#sub_category_name").html(
							'<option value="">Error loading sub-categories</option>');
					}
				});
			} else {
				$("#sub_category_name").empty();
				$("#sub_category_name").html(
					'<option value="">Please select a category and type first</option>');
			}
		});
	</script>

</body>

</html>