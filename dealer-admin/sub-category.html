<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="Ekka - Admin Dashboard HTML Template.">

	<title>Equipride - Admin Dashboard HTML Template.</title>

	<!-- GOOGLE FONTS -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700;800;900&family=Roboto:wght@400;500;700;900&display=swap"
		rel="stylesheet">

	<link href="https://cdn.materialdesignicons.com/4.4.95/css/materialdesignicons.min.css" rel="stylesheet" />

	<!-- PLUGINS CSS STYLE -->
	<link href="assets/plugins/simplebar/simplebar.css" rel="stylesheet" />

	<!-- Data Tables -->
	<link href='assets/plugins/data-tables/datatables.bootstrap5.min.css' rel='stylesheet'>
	<link href='assets/plugins/data-tables/responsive.datatables.min.css' rel='stylesheet'>

	<!-- ekka CSS -->
	<link id="ekka-css" rel="stylesheet" href="assets/css/ekka.css" />

	<!-- FAVICON -->
	<link href="../assets/images/favicon/favicon.png" rel="shortcut icon" />
</head>

<body class="ec-header-fixed ec-sidebar-fixed ec-sidebar-dark ec-header-light" id="body">

	<!-- WRAPPER -->
	<div class="wrapper">

		<!-- LEFT MAIN SIDEBAR -->
		<div class="ec-left-sidebar ec-bg-sidebar">
			<div id="sidebar" class="sidebar ec-sidebar-footer">

				<div class="ec-brand">
					<a href="index.html" title="Equipride">
						<img class="ec-brand-icon" src="assets/img/logo/Logo editted.png" alt="Logo" />
						<!-- <span class="ec-brand-name text-truncate">Equipride</span> -->
					</a>
				</div>

				<!-- begin sidebar scrollbar -->
				<div class="ec-navigation" data-simplebar>
					<!-- sidebar menu -->
					<ul class="nav sidebar-inner" id="sidebar-menu">
						<!-- Dashboard -->
						<li class="active">
							<a class="sidenav-item-link" href="index.html">
								<i class="mdi mdi-view-dashboard-outline"></i>
								<span class="nav-text">Dashboard</span>
							</a>
							<hr>
						</li>

						<!-- Vendors -->
						<!-- <li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-account-group-outline"></i>
								<span class="nav-text">Vendors</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="vendors" data-parent="#sidebar-menu">
									<li class="">
										<a class="sidenav-item-link" href="vendor-card.html">
											<span class="nav-text">Vendor Grid</span>
										</a>
									</li>

									<li class="">
										<a class="sidenav-item-link" href="vendor-list.html">
											<span class="nav-text">Vendor List</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="vendor-profile.html">
											<span class="nav-text">Vendors Profile</span>
										</a>
									</li>
								</ul>
							</div>
						</li> -->

						<!-- Users -->
						<li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-account-group"></i>
								<span class="nav-text">Users</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="users" data-parent="#sidebar-menu">
									<li>
										<a class="sidenav-item-link" href="user-request.html">
											<span class="nav-text">User Request</span>
										</a>
									</li>

									<li class="">
										<a class="sidenav-item-link" href="user-list.html">
											<span class="nav-text">User List</span>
										</a>
									</li>
								</ul>
							</div>
							<hr>
						</li>

						<!-- Category -->
						<li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-dns-outline"></i>
								<span class="nav-text">Categories</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="categorys" data-parent="#sidebar-menu">
									<li class="">
										<a class="sidenav-item-link" href="main-category.html">
											<span class="nav-text">Main Category</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="sub-category.html">
											<span class="nav-text">Sub Category</span>
										</a>
									</li>
								</ul>
							</div>
						</li>

						<!-- Products -->
						<li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-palette-advanced"></i>
								<span class="nav-text">Products</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="products" data-parent="#sidebar-menu">
									<li class="">
										<a class="sidenav-item-link" href="product-add.html">
											<span class="nav-text">Add Product</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="product-list.html">
											<span class="nav-text">List Product</span>
										</a>
									</li>
								</ul>
							</div>
						</li>

						<!-- Orders -->
						<li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-cart"></i>
								<span class="nav-text">Order History</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="orders" data-parent="#sidebar-menu">

									<li class="">
										<a class="sidenav-item-link" href="order-history.html">
											<span class="nav-text">Order History</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="quick-order-history.html">
											<span class="nav-text">Quick Order</span>
										</a>
									</li>
								</ul>
							</div>
						</li>

						<!-- Reviews -->
						<li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-account-group-outline"></i>
								<span class="nav-text">Stock Update</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="orders" data-parent="#sidebar-menu">

									<li class="">
										<a class="sidenav-item-link" href="#">
											<span class="nav-text">Stock Update</span>
										</a>
									</li>
								</ul>
							</div>
						</li>

						<!-- Brands -->
						<!-- <li>
							<a class="sidenav-item-link" href="brand-list.html">
								<i class="mdi mdi-tag-faces"></i>
								<span class="nav-text">Brands</span>
							</a>
							<hr>
						</li> -->

						<!-- Authentication -->
						<!-- <li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-login"></i>
								<span class="nav-text">Authentication</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="authentication" data-parent="#sidebar-menu">
									<li class="">
										<a href="sign-in.html">
											<span class="nav-text">Sign In</span>
										</a>
									</li>
									<li class="">
										<a href="sign-up.html">
											<span class="nav-text">Sign Up</span>
										</a>
									</li>
								</ul>
							</div>
						</li> -->

						<!-- Icons -->
						<!-- <li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-diamond-stone"></i>
								<span class="nav-text">Icons</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="icons" data-parent="#sidebar-menu">
									<li class="">
										<a class="sidenav-item-link" href="material-icon.html">
											<span class="nav-text">Material Icon</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="font-awsome-icons.html">
											<span class="nav-text">Font Awsome Icon</span>
										</a>
									</li>
									<li class="">
										<a class="sidenav-item-link" href="flag-icon.html">
											<span class="nav-text">Flag Icon</span>
										</a>
									</li>
								</ul>
							</div>
						</li> -->

						<!-- Other Pages -->
						<!-- <li class="has-sub">
							<a class="sidenav-item-link" href="javascript:void(0)">
								<i class="mdi mdi-image-filter-none"></i>
								<span class="nav-text">Other Pages</span> <b class="caret"></b>
							</a>
							<div class="collapse">
								<ul class="sub-menu" id="otherpages" data-parent="#sidebar-menu">
									<li class="has-sub">
										<a href="404.html">404 Page</a>
									</li>
								</ul>
							</div>
						</li> -->
					</ul>
				</div>

			</div>
		</div>

		<!--  PAGE WRAPPER -->
		<div class="ec-page-wrapper">

			<!-- Header -->
			<header class="ec-main-header" id="header">
				<nav class="navbar navbar-static-top navbar-expand-lg">
					<!-- Sidebar toggle button -->
					<button id="sidebar-toggler" class="sidebar-toggle"></button>
					<!-- search form -->
					<div class="search-form d-lg-inline-block">
						<!-- <div class="input-group">
							<input type="text" name="query" id="search-input" class="form-control"
								placeholder="search.." autofocus autocomplete="off" />
							<button type="button" name="search" id="search-btn" class="btn btn-flat">
								<i class="mdi mdi-magnify"></i>
							</button>
						</div>
						<div id="search-results-container">
							<ul id="search-results"></ul>
						</div> -->
					</div>

					<!-- navbar right -->
					<div class="navbar-right">
						<ul class="nav navbar-nav">
							<!-- User Account -->
							<li class="dropdown user-menu">
								<button class="dropdown-toggle nav-link ec-drop" data-bs-toggle="dropdown"
									aria-expanded="false">
									<img src="assets/img/user/user.png" class="user-image" alt="User Image" />
								</button>
								<ul class="dropdown-menu dropdown-menu-right ec-dropdown-menu">
									<!-- User image -->
									<li class="dropdown-header">
										<img src="assets/img/user/user.png" class="img-circle" alt="User Image" />
										<div class="d-inline-block">
											John Deo <small class="pt-1">john.example@gmail.com</small>
										</div>
									</li>
									<li>
										<a href="user-profile.html">
											<i class="mdi mdi-account"></i> My Profile
										</a>
									</li>
									<li>
										<a href="#">
											<i class="mdi mdi-email"></i> Message
										</a>
									</li>
									<li>
										<a href="#"> <i class="mdi mdi-diamond-stone"></i> Projects </a>
									</li>
									<li class="right-sidebar-in">
										<a href="javascript:0"> <i class="mdi mdi-settings-outline"></i> Setting </a>
									</li>
									<li class="dropdown-footer">
										<a type="button" onclick="logout()"> <i class="mdi mdi-logout"></i> Log Out </a>
									</li>
								</ul>
							</li>
							<li class="dropdown notifications-menu custom-dropdown">
								<button class="dropdown-toggle notify-toggler custom-dropdown-toggler">
									<i class="mdi mdi-bell-outline"></i>
								</button>

								<div class="card card-default dropdown-notify dropdown-menu-right mb-0">
									<div class="card-header card-header-border-bottom px-3">
										<h2>Notifications</h2>
									</div>

									<div class="card-body px-0 py-0">
										<ul class="nav nav-tabs nav-style-border p-0 justify-content-between" id="myTab"
											role="tablist">
											<li class="nav-item mx-3 my-0 py-0">
												<a href="#" class="nav-link active pb-3" id="home2-tab"
													data-bs-toggle="tab" data-bs-target="#home2" role="tab"
													aria-controls="home2" aria-selected="true">All (10)</a>
											</li>

											<li class="nav-item mx-3 my-0 py-0">
												<a href="#" class="nav-link pb-3" id="profile2-tab" data-bs-toggle="tab"
													data-bs-target="#profile2" role="tab" aria-controls="profile2"
													aria-selected="false">Msgs (5)</a>
											</li>

											<li class="nav-item mx-3 my-0 py-0">
												<a href="#" class="nav-link pb-3" id="contact2-tab" data-bs-toggle="tab"
													data-bs-target="#contact2" role="tab" aria-controls="contact2"
													aria-selected="false">Others (5)</a>
											</li>
										</ul>
				</nav>
			</header>

			<!-- CONTENT WRAPPER -->

			<div class="ec-content-wrapper">
				<div class="content">
					<div class="breadcrumb-wrapper breadcrumb-wrapper-2 breadcrumb-contacts">
						<h1>Category</h1>
						<p class="breadcrumbs"><span><a href="index.html">Home</a></span>
							<span><i class="mdi mdi-chevron-right"></i></span>Sub Category
						</p>
					</div>
					<div class="row">
						<div class="col-xl-4 col-lg-12">
							<div class="ec-cat-list card card-default mb-24px">
								<div class="card-body">
									<div class="ec-cat-form">
										<h4>Add New Sub Category</h4>

										<form method="post" id="subCategoryForm">

											<div class="form-group row">
												<span id="error_msg"></span>
											</div>

											<div class="form-group row">
												<label for="text" class="col-12 col-form-label">Type</label>
												<div class="col-12">

													<select name="category_type" id="category_type"
														class="form-control here slug-title" required>
														<option value="" disabled selected>Select a type</option>
														<option value="horse">Horse</option>
														<option value="rider">Rider</option>
														<option value="dog">Dog</option>
													</select>
												</div>
											</div>

											<div class="form-group row">
												<label for="text" class="col-12 col-form-label">Category Name</label>
												<div class="col-12">

													<select name="category_name" id="category_name"
														class="form-control here slug-title" required>
													</select>
												</div>
											</div>

											<div class="form-group row">
												<label for="text" class="col-12 col-form-label">Sub Category
													Name</label>
												<div class="col-12">
													<input id="sub_category_name" name="sub_category_name"
														class="form-control here slug-title" type="text" required>
												</div>
											</div>

											<!-- <div class="form-group row">
												<label class="col-12 col-form-label">Sort Description</label>
												<div class="col-12">
													<textarea id="sortdescription" name="sortdescription" cols="40"
														rows="2" class="form-control"></textarea>
												</div>
											</div> -->

											<div class="row">
												<div class="col-12">
													<a type="button" class="btn btn-primary"
														onclick="createSubCategory()">Submit</a>
												</div>
											</div>

										</form>

									</div>
								</div>
							</div>
						</div>
						<div class="col-xl-8 col-lg-12">
							<div class="ec-cat-list card card-default">
								<div class="card-body">
									<div class="table-responsive">


										<table id="responsive-data" class="table">
											<thead>
												<tr>
													<th>S No</th>
													<th>Category Type</th>
													<th>Category Name</th>
													<th>Sub Category Name</th>
													<th>Action</th>
												</tr>
											</thead>

											<tbody>

											</tbody>
										</table>


									</div>
								</div>
							</div>
						</div>
					</div>
				</div> <!-- End Content -->
			</div> <!-- End Content Wrapper -->

			<!-- Category Edit Modal -->


			<!-- Modal -->
			<div class="modal fade" id="categoryEditModal" tabindex="-1" aria-labelledby="exampleModalLabel"
				aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">
							<div class="card-body">
								<div class="ec-cat-form">
									<h4>Edit Category</h4>

									<form method="post" id="editSubCategoryForm">
										<!-- <input type="hidden" name="sub_category_id" id="sub_category_id"> -->
										<div class="form-group row">
											<span id="error_msg_update"></span>
										</div>

										<div class="form-group row">
											<label for="text" class="col-12 col-form-label">Type</label>
											<div class="col-12">

												<select name="edit_sub_category_type" id="edit_category_type"
													class="form-control here slug-title">
												</select>
											</div>
										</div>

										<div class="form-group row">
											<label for="text" class="col-12 col-form-label">Category Name</label>
											<div class="col-12">

												<select name="edit_category_name" id="edit_category_name"
													class="form-control here slug-title" required>
												</select>
											</div>
										</div>

										<div class="form-group row">
											<label for="text" class="col-12 col-form-label">Sub Category
												Name</label>
											<div class="col-12">
												<input id="edit_sub_category_name" name="edit_sub_category_name"
													class="form-control here slug-title" type="text" required>
											</div>
										</div>

									</form>

								</div>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
							<button type="button" class="btn btn-primary" id="editCategoryButton"
								onclick="editSubCategory()">Save changes</button>
						</div>
					</div>
				</div>
			</div>


			<!-- Category Edit Modal End -->

			<!-- Footer -->
			<footer class="footer mt-auto">
				<div class="copyright bg-white">
					<p>
						Copyright &copy; <span id="ec-year"></span><a class="text-primary"
							href="https://themeforest.net/user/ashishmaraviya" target="_blank"> Equipride Admin
							Dashboard</a>. All Rights Reserved.
					</p>
				</div>
			</footer>

		</div> <!-- End Page Wrapper -->

	</div> <!-- End Wrapper -->

	<!-- Common Javascript -->
	<script src="assets/plugins/jquery/jquery-3.5.1.min.js"></script>
	<script src="assets/js/bootstrap.bundle.min.js"></script>
	<script src="assets/plugins/tags-input/bootstrap-tagsinput.js"></script>
	<script src="assets/plugins/simplebar/simplebar.min.js"></script>
	<script src="assets/plugins/jquery-zoom/jquery.zoom.min.js"></script>
	<script src="assets/plugins/slick/slick.min.js"></script>

	<!-- Data Tables -->
	<script src='assets/plugins/data-tables/jquery.datatables.min.js'></script>
	<script src='assets/plugins/data-tables/datatables.bootstrap5.min.js'></script>
	<script src='assets/plugins/data-tables/datatables.responsive.min.js'></script>

	<!-- Option Switcher -->
	<script src="assets/plugins/options-sidebar/optionswitcher.js"></script>

	<!-- Ekka Custom -->
	<script src="assets/js/ekka.js"></script>
	<script src="js/admin_actions.js"></script>


	<script>
		$(document).ready(function () {
			check_cookie();
			loadsub_category();

			$('#responsive-data').DataTable({
				"paging": true,
				"lengthMenu": [10, 20, 30],
				"searching": true,
			});

			function check_cookie() {
				$.ajax({
					url: 'admin_actions/admin_cookies.php',
					type: 'GET',
					data: {
						check_cookie: 'check_cookie'
					},
					success: function (response) {
						// console.log(response);
					},
					error: function (xhr, status, error) {
						var error_response = JSON.parse(xhr.responseText);
						console.log(error_response);
						if (error_response == 'Not_authenticated') {
							window.location.href = 'login.html';
						}
					}
				});
			}

			// Fetch Category Name By Category Type Start

			$('#category_type').change(function () {
				var selectedValue = $("#category_type").val();

				$.ajax({
					type: 'POST',
					url: 'admin_actions/admin_action.php',
					data: {
						category_name_request: 'category_name',
						categoryType: selectedValue
					},
					dataType: 'json',
					success: function (response) {
						var category_names = response.category_name;

						var selectElement = $("#category_name");

						selectElement.empty();

						for (var i = 0; i < category_names.length; i++) {
							var option = $("<option></option>").text(category_names[i]).val(
								category_names[i]);
							selectElement.append(option);
						}
					},
					error: function (xhr, status, error) {
						console.error('Error: ' + error);
					}
				});
			});

			// $('#edit_category_type').change(function () {
			// 	var selectedValue = $("#edit_category_type").val();
			// 	$.ajax({
			// 		type: 'POST',
			// 		url: 'admin_actions/admin_action.php',
			// 		data: {
			// 			category_name_request: 'category_name',
			// 			categoryType: selectedValue
			// 		},
			// 		dataType: 'json',
			// 		success: function (response) {
			// 			// console.log(response);
			// 			var category_names = response.category_name;

			// 			var selectElement = $("#edit_category_name");

			// 			selectElement.empty();

			// 			for (var i = 0; i < category_names.length; i++) {
			// 				var option = $("<option></option>").text(category_names[i]).val(category_names[i]);
			// 				selectElement.append(option);
			// 			}
			// 		},
			// 		error: function (xhr, status, error) {
			// 			console.error('Error: ' + error);
			// 		}
			// 	});
			// });

			// Fetch Category Name By Category Type End

		});

		function loadsub_category() {
			$.ajax({
				url: 'admin_actions/admin_action.php',
				type: 'POST',
				data: {
					loadSubCategory_request: 'load_subcategory'
				},
				success: function (response) {
					var data = JSON.parse(response);

					if (data.status === 'success') {
						$('#responsive-data').DataTable().clear();

						for (var i = 0; i < data.message.length; i++) {
							var sub_category = data.message[i];
							$('#responsive-data').DataTable().row.add([
								i + 1,
								sub_category.category_type,
								sub_category.category_name,
								sub_category.sub_category_name,
								'<div class="btn-group">' +
								'<button type="button" class="btn btn-outline-success">Info</button>' +
								'<button type="button" class="btn btn-outline-success dropdown-toggle dropdown-toggle-split" ' +
								'data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-display="static">' +
								'<span class="sr-only">Info</span>' +
								'</button>' +
								'<div class="dropdown-menu">' +
								'<a type="button" class="dropdown-item edit-subcategory-button" data-bs-toggle="modal" data-bs-target="#categoryEditModal" data-id="' +
								sub_category.sub_category_id + '">Edit</a>' +
								'<a type="button" class="dropdown-item" onclick="deleteSubCategory(' +
								sub_category.sub_category_id + ')">Delete</a>' +
								'</div>' +
								'</div>'
							]).draw();
						}
					}
				},
				error: function () {
					console.log('Error loading categories');
				}
			});
		}

		function createSubCategory() {
			var formData = new FormData($("#subCategoryForm")[0]);

			formData.append('createSubCategory_request', 'createSubCategory_request')

			// for (var pair of formData.entries()) {
			// 	console.log(pair[0] + ', ' + pair[1]);
			// }

			$.ajax({
				url: 'admin_actions/admin_action.php',
				type: 'POST',
				data: formData,
				processData: false,
				contentType: false,
				success: function (response) {
					// console.log(response);
					if (response == 'Please_fill_category_type') {
						$("#error_msg").html("Please Select Category Type").css("color", "red");
					} else if (response == 'Please_fill_category_name') {
						$("#error_msg").html("Please Select Category Name").css("color", "red");
					} else if (response == 'Please_fill_sub_category_name') {
						$("#error_msg").html("Please fill Sub Category Name").css("color", "red");
					} else if (response == 'Please_fill_all_fields') {
						$("#error_msg").html("Please fill all fields").css("color", "red");
					} else {
						$("#error_msg").html("");
						$("#subCategoryForm")[0].reset();
						$("#category_name").val("");
						alert(response);
						loadsub_category();
					}
				},
				error: function (xhr, status, error) {
					console.error('Error: ' + error);
				}
			});
		}


		// Fetch Values for Edit Operation

		var selectedSbuCategoryId;

		$(document).on('click', '.edit-subcategory-button', function () {
			selectedSbuCategoryId = $(this).data('id');

			$.ajax({
				url: 'admin_actions/admin_action.php',
				type: 'POST',
				data: {
					loadSubCategory_For_Edit_request: 'edit_category',
					sub_category_id: selectedSbuCategoryId
				},
				success: function (response) {

					// console.log(response);

					var subCategoryData = JSON.parse(response);

					var subCategory = subCategoryData.message[0];

					var sub_category_id = subCategory.category_id;
					$("#sub_category_id").val(sub_category_id);

					var editCategoryTypeSelect = $("#edit_category_type");
					editCategoryTypeSelect.empty();

					editCategoryTypeSelect.append($('<option>', {
						value: subCategory.category_type,
						text: subCategory.category_type
					}));


					var editCategoryNameSelect = $("#edit_category_name");
					editCategoryNameSelect.empty();

					editCategoryNameSelect.append($('<option>', {
						value: subCategory.category_name,
						text: subCategory.category_name
					}));

					$("#edit_sub_category_name").val(subCategory.sub_category_name);
				}
			});
		});

		function editSubCategory() {
			var formData = new FormData($("#editSubCategoryForm")[0]);

			var sub_categoryId = selectedSbuCategoryId;
			formData.append('sub_category_id', sub_categoryId);
			formData.append('editSubCategory_request', 'editSubCategory_request');

			$.ajax({
				url: 'admin_actions/admin_action.php',
				type: 'POST',
				data: formData,
				processData: false, // Important: Don't process the data
				contentType: false, // Important: Don't set contentType
				success: function (response) {
					if (response.trim() === 'Please_fill_sub_category_name') {
						$("#error_msg_update").html("Please Fill Sub Category Name").css("color", "red");
					} else if (response.trim() === 'Please_fill_all_fields') {
						$("#error_msg_update").html("Please Fill All Fields").css("color", "red");
					} else if (response.trim() === 'Sub_category_updated_successfully') {
						$("#error_msg_update").html(""); // Clear any previous error messages
						alert("Sub Category Updated Successfully");
						$('#categoryEditModal').modal('hide');
						loadsub_category();
					} else {
						// Handle other possible responses or log unexpected responses
						console.log("Unexpected response:", response);
					}
				},
				error: function (jqXHR, textStatus, errorThrown) {
					console.error('AJAX request failed:', textStatus, errorThrown);
				}
			});
		}


		function deleteSubCategory(category_id) {
			var category_id = category_id;
			// alert(category_id);
			$.ajax({
				url: 'admin_actions/admin_action.php',
				type: 'POST',
				data: {
					deleteSubCategory_request: 'delete_category',
					category_id: category_id,
				},
				success: function (response) {
					console.log("AJAX request successful");
					alert(response);
					loadsub_category();
				}
			});
		}

		function logout() {
			$.ajax({
				url: 'admin_actions/admin_action.php',
				type: 'POST',
				data: {
					'logout_request': 'logout'
				},
				success: function (response) {
					var success_response = JSON.parse(response);
					console.log(success_response);
					if (success_response == 'logout-successfully') {
						window.location.href = 'login.html';
					}
				},
				error: function (xhr, status, error) {
					var error_response = JSON.parse(xhr.responseText);
					console.log(error_response);
					logout();
				}
			})
		}
	</script>
</body>

</html>